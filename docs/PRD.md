# 🔍 AI 계약서 분석 어시스턴트 PRD

## 📌 제품 개요

### 제품명
**ContractGuard AI** - AI 기반 계약서 리스크 분석 어시스턴트

### 제품 비전
기업의 계약 검토 프로세스를 혁신하여, 법무 전문가가 아니더라도 계약서의 주요 리스크를 즉시 파악하고 대응할 수 있도록 지원하는 AI 어시스턴트

### 타겟 사용자
- 중소기업 경영진 및 관리자
- 스타트업 창업자
- 프리랜서 및 1인 기업가
- 법무팀 지원이 필요한 영업/구매팀

---

## 🎯 핵심 기능

### 1. 계약서 업로드 및 분석
- PDF, DOCX, TXT 형식의 계약서 업로드 지원
- 계약서 자동 텍스트 추출 및 구조화

### 2. Multi-Agent 기반 심층 분석
| Agent | 역할 |
|-------|------|
| **계약분석 Agent** | 계약 유형 파악, 핵심 조항 추출 |
| **리스크평가 Agent** | 불리한 조항 식별, 위험 수준 평가 |
| **조항비교 Agent** | 표준 계약서와 비교하여 누락/변경 조항 확인 |
| **개선제안 Agent** | 수정 문구 제안, 협상 포인트 도출 |

### 3. RAG 기반 법률 지식 검색
- 민법, 상법 주요 조항 데이터베이스
- 표준계약서 템플릿 (용역, 임대차, NDA 등)
- 계약 분쟁 판례 요약

### 4. 대화형 상담 인터페이스
- 분석 결과에 대한 추가 질문 가능
- 멀티턴 대화로 깊이 있는 상담 제공

---

## 🏗️ 기술 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                    Streamlit Frontend                        │
│  ┌─────────────┐  ┌──────────────┐  ┌────────────────────┐ │
│  │ 계약서 업로드 │  │ 분석 결과 표시 │  │ 대화형 상담 채팅  │ │
│  └─────────────┘  └──────────────┘  └────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│              LangGraph Multi-Agent Orchestrator              │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌──────────┐ │
│  │계약분석Agent│→│리스크평가  │→│조항비교    │→│개선제안  │ │
│  │            │ │Agent       │ │Agent       │ │Agent     │ │
│  └────────────┘ └────────────┘ └────────────┘ └──────────┘ │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│                    RAG Knowledge Base                        │
│  ┌─────────────────┐  ┌──────────────────────────────────┐ │
│  │ ChromaDB/FAISS  │  │ 법률조항 / 표준계약서 / 판례요약  │ │
│  │ Vector Store    │  │ Embeddings                        │ │
│  └─────────────────┘  └──────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

---

## 📊 평가 기준 충족 매핑

| 평가 요소 | 구현 방식 |
|----------|----------|
| **Prompt Engineering** | 역할 부여(법률 전문가), CoT(단계별 분석), Few-shot(조항 분석 예시) |
| **LangChain/LangGraph** | 4개 Agent의 협업 워크플로우, ReAct 패턴으로 Tool 활용 |
| **RAG** | 법률 데이터 임베딩, ChromaDB 벡터 검색, 컨텍스트 증강 응답 |
| **Streamlit** | 파일 업로드, 분석 대시보드, 대화형 채팅 UI |
| **Memory (선택)** | 대화 히스토리 유지로 멀티턴 상담 지원 |

---

## 🔧 기술 스택

- **Frontend**: Streamlit
- **LLM**: Azure OpenAI GPT-4o / GPT-4o-mini
- **Agent Framework**: LangChain, LangGraph
- **Vector DB**: ChromaDB (또는 FAISS)
- **Embedding**: text-embedding-3-large
- **Document Processing**: PyPDF2, python-docx

---

## 📁 프로젝트 구조

```
project/
├── app.py                 # Streamlit 메인 앱
├── requirements.txt       # 의존성 패키지
├── .env                   # 환경변수 (API 키)
├── config/
│   └── settings.py        # 설정 관리
├── agents/
│   ├── __init__.py
│   ├── contract_analyzer.py    # 계약분석 Agent
│   ├── risk_evaluator.py       # 리스크평가 Agent
│   ├── clause_comparator.py    # 조항비교 Agent
│   └── improvement_advisor.py  # 개선제안 Agent
├── graph/
│   └── workflow.py        # LangGraph 워크플로우
├── rag/
│   ├── __init__.py
│   ├── vectorstore.py     # Vector DB 관리
│   └── retriever.py       # 검색 로직
├── data/
│   ├── raw/               # 원본 법률 데이터
│   └── processed/         # 전처리된 데이터
├── prompts/
│   └── templates.py       # 프롬프트 템플릿
├── utils/
│   ├── document_loader.py # 문서 로더
│   └── text_processor.py  # 텍스트 전처리
└── docs/
    └── PRD.md             # 이 문서
```

---

## 🎨 UI/UX 설계

### 메인 화면 구성
1. **사이드바**: 계약서 업로드, 분석 유형 선택
2. **메인 영역**: 분석 결과 대시보드
3. **하단**: 대화형 상담 채팅

### 분석 결과 표시
- 📊 리스크 점수 (0-100점)
- 🚨 주요 리스크 항목 리스트
- ✅ 안전한 조항 확인
- 💡 개선 제안사항
- 📝 상세 분석 리포트

---

## 🚀 차별화 포인트

1. **실제 계약서 분석**: 일반적인 법률 Q&A가 아닌 실제 계약서 파일 분석
2. **시각적 리스크 표시**: 리스크 수준을 점수화하여 직관적으로 표시
3. **표준 계약서 비교**: RAG로 표준 템플릿과 자동 비교
4. **구체적 수정 제안**: 추상적 조언이 아닌 대체 문구 제시
5. **Multi-Agent 협업**: 전문 영역별 Agent가 순차적으로 분석

